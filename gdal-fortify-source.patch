diff -rupN --no-dereference gdal-3.6.1-fedora/port/vsipreload.cpp gdal-3.6.1-fedora-new/port/vsipreload.cpp
--- gdal-3.6.1-fedora/port/vsipreload.cpp	2022-12-14 00:02:36.000000000 +0100
+++ gdal-3.6.1-fedora-new/port/vsipreload.cpp	2022-12-15 20:52:13.229007790 +0100
@@ -55,6 +55,17 @@
 #undef _FORTIFY_SOURCE
 #endif
 
+
+/*
+ * We need to export open* etc., but _FORTIFY_SOURCE defines conflicting
+ * always_inline versions. Disable _FORTIFY_SOURCE for this file, so we
+ * can define our overrides.
+ */
+#ifdef _FORTIFY_SOURCE
+#undef _FORTIFY_SOURCE
+#endif
+
+
 #define _GNU_SOURCE 1
 #define _LARGEFILE64_SOURCE 1
 #include <stdio.h>
